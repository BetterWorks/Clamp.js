/*!
* Clamp.js 0.6.1
*
* Copyright 2011-2013, Joseph Schmitt http://joe.sh
* Released under the WTFPL license
* http://sam.zoy.org/wtfpl/
*/
(function(){window.$clamp=function(b,d){function r(a,b){p.getComputedStyle||(p.getComputedStyle=function(a,b){this.el=a;this.getPropertyValue=function(b){var e=/(\-([a-z]){1})/g;"float"==b&&(b="styleFloat");e.test(b)&&(b=b.replace(e,function(a,b,e){return e.toUpperCase()}));return a.currentStyle&&a.currentStyle[b]?a.currentStyle[b]:null};return this});return p.getComputedStyle(a,null).getPropertyValue(b)}function s(a){a=a||q(b);var e=t(b);return Math.max(Math.floor(a/e),0)}function x(a){return t(b)*
a}function t(a){var b=r(a,"line-height");"normal"==b&&(b=1.2*parseInt(r(a,"font-size")));return parseInt(b)}function q(a){return Math.max(a.scrollHeight,a.offsetHeight,a.clientHeight)}function n(a){return a.lastChild?n(a.lastChild):a==b?null:3===a.nodeType&&a.nodeValue.trim()&&a.nodeValue!=h.truncationChar?a:(a.parentNode.removeChild(a),n(a.parentNode))}function u(a,e){if(a&&e){for(var c=a.nodeValue.replace(h.truncationChar,"").split(" "),d=0,f=c.length-1,k=-1,l;d<=f&&0<f;){l=Math.floor((d+f)/2);
if(l==k)break;k=l;l=a;for(var g=c.slice(0,k+1).join(" ");g.length&&-1!=h.removeTrailingChars.indexOf(g[g.length-1]);)g=g.substring(0,g.length-1);l.nodeValue=g+h.truncationChar;m=q(b);m<=e?d=k:f=k}m>e&&(a.parentNode.removeChild(a),u(n(b),e))}}d=d||{};var p=window,h={clamp:d.clamp||2,useNativeClamp:"undefined"!=typeof d.useNativeClamp?d.useNativeClamp:!0,truncationChar:d.truncationChar||"\u2026",removeTrailingChars:d.removeTrailingChars||",.;:!?-"},f=b.style,y=b.innerHTML,z="undefined"!=typeof b.style.webkitLineClamp,
c=h.clamp,v=c.indexOf&&(-1<c.indexOf("px")||-1<c.indexOf("em"));"auto"==c?c=s():v&&(c=s(parseInt(c)));var w;if(z&&h.useNativeClamp)f.overflow="hidden",f.textOverflow="ellipsis",f.webkitBoxOrient="vertical",f.display="-webkit-box",f.webkitLineClamp=c,v&&(f.height=h.clamp+"px");else{var m=x(c);m<=q(b)&&(u(n(b),m),w=b.innerHTML)}return{original:y,clamped:w}}})();